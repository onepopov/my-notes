(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{2:function(t,e,n){"use strict";e.a={ADD_NOTE:"ADD_NOTE",REMOVE_NOTE:"REMOVE_NOTE",CHANGE_TITLE:"CHANGE_TITLE",SET_CONTENT:"SET_CONTENT",SELECT_NOTE:"SELECT_NOTE",SET_TITLE:"SET_TITLE"}},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e),n.d(e,"notes",(function(){return r}));var c=n(18),o=n(4),s=n(40),a=n(2),i={notesList:[],selectedNote:""};function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case a.a.ADD_NOTE:var u=Object(s.a)();return Object(o.a)(Object(o.a)({},t),{},{notesList:[].concat(Object(c.a)(t.notesList),[{id:u,date:new Date,content:"",title:"Untitled",selectedNote:u}])});case a.a.REMOVE_NOTE:return Object(o.a)(Object(o.a)({},t),{},{notesList:t.notesList.slice().filter((function(t){return t.id!==r.id})),selectedNote:""});case a.a.SELECT_NOTE:return Object(o.a)(Object(o.a)({},t),{},{selectedNote:r.id});case a.a.SET_TITLE:return Object(o.a)(Object(o.a)({},t),{},{notesList:t.notesList.map((function(t){return t.id===r.id?Object.assign({},t,{title:r.title}):t}))});case a.a.SET_CONTENT:return Object(o.a)(Object(o.a)({},t),{},{notesList:t.notesList.map((function(t){return t.id===r.id?Object.assign({},t,{content:r.content}):t}))});default:return t}}},39:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n(0),s=n.n(o),a=n(8),i=n.n(a),r=n(3),u=n(16),l=(n(30),n(6)),j=(n(31),n(2));var O=function(t){var e=t.note,n=t.selected,o=t.contextHandler,s=Object(r.b)();return Object(c.jsxs)("li",{className:n?"note note--selected":"note",onClick:function(){s({type:j.a.SELECT_NOTE,payload:{id:e.id}})},onContextMenu:function(t){t.preventDefault(),t.stopPropagation()},children:[Object(c.jsx)("span",{className:"note__title",children:/\w+/.test(e.title)?e.title:"Untitled"}),n&&Object(c.jsx)("button",{className:"note__actions",onClick:o})]})};n(32),n(33);function d(t,e){var n=Object(o.useState)(t),c=Object(l.a)(n,2),s=c[0],a=c[1];return Object(o.useEffect)((function(){var n=setTimeout((function(){a(t)}),e);return function(){clearTimeout(n)}}),[t]),s}var b=function(t){var e=t.search,n=t.setQuery,s=d(t.query,300);return Object(o.useEffect)((function(){e(s)}),[s]),Object(c.jsx)("div",{className:"search",children:Object(c.jsx)("input",{className:"search__input",placeholder:"Search everywhere",type:"text",onChange:function(t){n(t.target.value)}})})};n(34);var f=function(t){var e=t.addNote,n=t.positionContext,o=t.selectedNote,s=t.openPopup,a=Object(r.c)((function(t){return t.notes})),i=Object(r.b)();return Object(c.jsxs)("div",{className:"popup",style:n,children:[Object(c.jsx)("button",{onClick:e,children:"New Note"}),o&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){i({type:j.a.REMOVE_NOTE,payload:{id:a.selectedNote}}),s(!1)},children:"Delete"}),Object(c.jsx)("button",{children:"Lock this note"})]})]})};var E=function(){var t=Object(r.c)((function(t){return t.notes})),e=Object(r.b)(),n=Object(o.useState)(t.notesList),s=Object(l.a)(n,2),a=s[0],i=s[1],u=Object(o.useState)(!1),d=Object(l.a)(u,2),E=d[0],p=d[1],N=Object(o.useState)(""),T=Object(l.a)(N,2),x=T[0],h=T[1],_=Object(o.useState)({left:"100px",top:"100px"}),v=Object(l.a)(_,2),L=v[0],C=v[1],m=function(){e({type:j.a.ADD_NOTE}),p(!1)},y=function(t){t.preventDefault(),e({type:j.a.SELECT_NOTE,payload:{id:""}}),S(t.pageX,t.pageY)},S=function(t,e){p(!E),C({left:t,top:e})};return Object(o.useEffect)((function(){i(t.notesList.filter((function(t){return-1!==t.title.toLowerCase().indexOf(x.trim().toLowerCase())})))}),[t]),Object(c.jsxs)("nav",{className:"site-bar",children:[Object(c.jsx)("ul",{className:"site-bar__list",onContextMenu:y,onClick:function(t){"UL"===t.target.tagName&&(e({type:j.a.SELECT_NOTE,payload:{id:""}}),p(!1))},children:a.map((function(e){return Object(c.jsx)(O,{contextHandler:y,addNote:m,selected:t.selectedNote===e.id,note:e},e.id)}))}),E&&Object(c.jsx)(f,{selectedNote:t.selectedNote,openPopup:p,positionContext:L,addNote:m}),Object(c.jsx)(b,{query:x,setQuery:h,search:function(e){i((function(n){return t.notesList.filter((function(t){return-1!==t.title.toLowerCase().indexOf(e.trim().toLowerCase())}))}))}})]})};n(35);var p=function(){var t=Object(r.c)((function(t){return t.notes})),e=t.notesList.find((function(e){return e.id===t.selectedNote})),n=Object(o.useState)(e?e.content:null),s=Object(l.a)(n,2),a=s[0],i=s[1],u=Object(o.useState)(e?e.title:"Untitled"),O=Object(l.a)(u,2),b=O[0],f=O[1],E=Object(r.b)(),p=d(a,300),N=d(b,300);return Object(o.useEffect)((function(){e&&i(e.content),e&&f(e.title)}),[t]),Object(o.useEffect)((function(){e&&a!==e.content&&E({type:j.a.SET_CONTENT,payload:{id:t.selectedNote,content:p}})}),[p]),Object(o.useEffect)((function(){e&&b!==e.title&&E({type:j.a.SET_TITLE,payload:{id:t.selectedNote,title:N}})}),[N]),Object(c.jsx)("main",{className:"content",children:e?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{className:"content__title",placeholder:"Enter title of note",type:"text",value:b,onChange:function(t){return function(t){f(t)}(t.target.value)}}),Object(c.jsx)("textarea",{placeholder:"What's new with you?",className:"content__field",value:a,onChange:function(t){return function(t){i(t)}(t.target.value)}})]}):Object(c.jsx)("section",{className:"content__info",children:"Not found note"})})};var N=function(){return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(E,{}),Object(c.jsx)(p,{})]})},T=n(5),x=n(36).notes,h=Object(T.b)({notes:x}),_=n(17),v=n.n(_),L=n(14),C={key:"root",storage:v.a},m=Object(L.a)(C,h),y=function(){var t=Object(T.c)(m);return{store:t,persistor:Object(L.b)(t)}},S=y().store,g=y().persistor;i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(r.a,{store:S,children:Object(c.jsx)(u.a,{loading:null,persistor:g,children:Object(c.jsx)(N,{})})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.7c1a92b1.chunk.js.map