{"version":3,"sources":["store/types/notes.js","store/reducers/notes.js","assets/lock.svg","components/SiteBar/Note/index.js","hooks/useDebounce.js","components/Search/index.js","components/SiteBar/Popup/index.js","components/SiteBar/index.js","components/Content/index.js","App.js","store/reducers/index.js","store/index.js","index.js"],"names":["ADD_NOTE","REMOVE_NOTE","CHANGE_TITLE","SET_CONTENT","SELECT_NOTE","SET_TITLE","SET_BLOCKED","initState","notesList","selectedNote","notes","state","type","payload","types","id","uuidv4","date","Date","content","title","blocked","slice","filter","item","map","note","Object","assign","Note","selected","contextHandler","dispatch","useDispatch","className","onClick","onContextMenu","e","preventDefault","stopPropagation","test","width","src","LockIcon","useDebounce","value","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","Search","search","setQuery","debouncedQuery","query","placeholder","onChange","target","Popup","addNote","positionContext","openPopup","style","SiteBar","useSelector","searchedNotes","setLists","find","isOpenPopup","left","top","setPositionContext","openContext","pageX","pageY","x","y","toLowerCase","indexOf","trim","tagName","Content","text","setText","setTitle","debouncedContent","debouncedTitle","readOnly","handlerTitle","handlerInput","App","require","combineReducers","persistConfig","key","storage","persistedReducer","persistReducer","rootReducer","store","createStore","persistor","persistStore","generateStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.52d9c424.chunk.js","sourcesContent":["export default {\n    ADD_NOTE: \"ADD_NOTE\",\n    REMOVE_NOTE: \"REMOVE_NOTE\",\n    CHANGE_TITLE: \"CHANGE_TITLE\",\n    SET_CONTENT: \"SET_CONTENT\",\n    SELECT_NOTE: \"SELECT_NOTE\",\n    SET_TITLE: \"SET_TITLE\",\n    SET_BLOCKED: \"SET_BLOCKED\"\n}\n","import { v4 as uuidv4 } from \"uuid\";\nimport types from \"../types/notes\";\n\nconst initState = {\n    notesList: [],\n    selectedNote: \"\",\n};\n\nexport function notes(state = initState, {type, payload}) {\n    switch (type) {\n        case types.ADD_NOTE:\n            const id = uuidv4();\n            return {...state, notesList: [...state.notesList, {id, date: new Date(), content: \"\", title: \"Untitled\", selectedNote: id, blocked: false}]};\n        case types.REMOVE_NOTE:\n            return {...state, notesList: state.notesList.slice().filter((item)=> item.id !== payload.id), selectedNote: \"\"};\n        case types.SELECT_NOTE:\n            return {...state, selectedNote: payload.id};\n        case types.SET_TITLE:\n            return {...state, notesList: state.notesList.map((note) => {\n                    if(note.id === payload.id) {\n                        return Object.assign({}, note, {\n                            title: payload.title\n                        });\n                    }\n                    return note;\n                })};\n        case types.SET_BLOCKED:\n            return {...state, notesList: state.notesList.map((note) => {\n                    if(note.id === payload.id) {\n                        return Object.assign({}, note, {\n                            blocked: !note.blocked\n                        });\n                    }\n                    return note;\n                })};\n        case types.SET_CONTENT:\n            return {...state, notesList: state.notesList.map((note) => {\n                    if(note.id === payload.id) {\n                        return Object.assign({}, note, {\n                            content: payload.content\n                        });\n                    }\n                    return note;\n                })};\n        default:\n            return state;\n    }\n}\n","export default __webpack_public_path__ + \"static/media/lock.576e2d9f.svg\";","import React from \"react\";\nimport \"./styles.scss\";\nimport {useDispatch} from \"react-redux\";\nimport types from \"../../../store/types/notes\";\nimport LockIcon from \"../../../assets/lock.svg\";\n\n\nfunction Note({note, selected,contextHandler}) {\n    const dispatch = useDispatch();\n\n    const selectNote = () => {\n        dispatch({type: types.SELECT_NOTE, payload: {id: note.id}});\n    };\n    const handleContext = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n    };\n\n    return(<li className={selected ? \"note note--selected\": \"note\"} onClick={selectNote} onContextMenu={handleContext}>\n        <span className=\"note__title\">{/\\w+/.test(note.title) ? note.title : \"Untitled\"}</span>{note.blocked && <img className=\"note__block\" width=\"20px\" src={LockIcon}/>}{selected && <button className=\"note__actions\" onClick={contextHandler}></button>}\n\n    </li>);\n}\nexport default Note;\n","import React, { useState, useEffect } from 'react';\n\nexport function useDebounce(value, delay) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n\n    useEffect(\n        () => {\n            const handler = setTimeout(() => {\n                setDebouncedValue(value);\n            }, delay);\n            return () => {\n                clearTimeout(handler);\n            };\n        },\n        [value]\n    );\n\n    return debouncedValue;\n}\n","import React, {useEffect, useState} from \"react\";\nimport \"./styles.scss\";\nimport {useDebounce} from \"../../hooks/useDebounce\";\n\n\nfunction Search({search, setQuery, query}) {\n    const debouncedQuery = useDebounce(query, 300);\n\n    const handleInput = (e) => {\n        setQuery(e.target.value);\n    };\n\n    useEffect(() => {\n            search(debouncedQuery);\n    }, [debouncedQuery]);\n    return(<div className=\"search\">\n        <input className=\"search__input\" placeholder=\"Search everywhere\"  type=\"text\" onChange={handleInput}/>\n    </div>)\n}\n\n\nexport default Search;\n","import React from \"react\";\nimport \"./styles.scss\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport types from \"../../../store/types/notes\";\n\nfunction Popup({addNote, positionContext, selectedNote, openPopup}) {\n    const dispatch = useDispatch();\n    const deleteNote = () => {\n        dispatch({type: types.REMOVE_NOTE, payload: {id: selectedNote.id}});\n        openPopup(false);\n    };\n    const blockNote = () => {\n        dispatch({type: types.SET_BLOCKED, payload: {id: selectedNote.id}});\n        openPopup(false);\n    };\n    return(<div className=\"popup\" style={positionContext}>\n        <button onClick={addNote}>New Note</button>\n        {selectedNote && <>\n            <button onClick={deleteNote}>Delete</button>\n            <button onClick={blockNote}>{selectedNote.blocked ? \"Unlock this note\" : \"Lock this note\"}</button>\n        </>}\n\n    </div>)\n}\n\n\nexport default Popup;\n","import React, {  useEffect, useState  } from \"react\";\nimport Note from \"./Note\";\nimport \"./styles.scss\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport types from \"../../store/types/notes\";\nimport Search from \"../Search\";\nimport Popup from \"./Popup\";\n\n\nfunction SiteBar() {\n    const notes = useSelector(state => state.notes);\n    const dispatch = useDispatch();\n    const [searchedNotes, setLists] = useState( notes.notesList);\n    const selectedNote = notes.notesList.find((note) => note.id === notes.selectedNote);\n    const [isOpenPopup, openPopup] = useState(false);\n    const [query, setQuery] = useState(\"\");\n    const [positionContext, setPositionContext] = useState({left: \"100px\", top: \"100px\"});\n    const addNote = () => {\n        dispatch({type: types.ADD_NOTE});\n        openPopup(false);\n    };\n    const search = (query) => {\n        setLists((state) => notes.notesList.filter((note => note.title.toLowerCase().indexOf(query.trim().toLowerCase()) !== -1)));\n    };\n    const contextHandler = (e) => {\n        e.preventDefault();\n        dispatch({type: types.SELECT_NOTE, payload: {id: \"\"}});\n        openContext(e.pageX, e.pageY);\n    };\n    const openContext = (x,y) => {\n        openPopup(!isOpenPopup);\n        setPositionContext({left: x, top: y});\n    };\n    const handleReset = (e) => {\n        if(e.target.tagName === \"UL\") {\n            dispatch({type: types.SELECT_NOTE, payload: {id: \"\"}});\n            openPopup(false);\n        }\n\n    };\n\n    useEffect(() => {\n        setLists(notes.notesList.filter((note => note.title.toLowerCase().indexOf(query.trim().toLowerCase()) !== -1)));\n    }, [notes]);\n\n\n    return(<nav className=\"site-bar\">\n        <ul className=\"site-bar__list\" onContextMenu={contextHandler} onClick={handleReset} >\n            {searchedNotes.map(note => <Note contextHandler={contextHandler} addNote={addNote}  selected={notes.selectedNote === note.id} note={note} key={note.id}/>)}\n        </ul>\n        {isOpenPopup && <Popup selectedNote={selectedNote} openPopup={openPopup}  positionContext={positionContext} addNote={addNote}/>}\n        <Search query={query} setQuery={setQuery} search={search}/>\n    </nav>)\n}\n\n\nexport default SiteBar;\n","import React, {useState, useEffect} from \"react\";\nimport {useDebounce} from \"../../hooks/useDebounce\";\n\nimport \"./styles.scss\";\n\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport types from \"../../store/types/notes\";\n\n\n\n\nfunction Content() {\n\n    const notes = useSelector((state) => state.notes);\n    const selectedNote = notes.notesList.find((note) => note.id === notes.selectedNote);\n    const [text, setText] = useState(selectedNote ? selectedNote.content : null);\n    const [title, setTitle] = useState(selectedNote ? selectedNote.title : \"Untitled\");\n    const dispatch = useDispatch();\n    const debouncedContent = useDebounce(text, 300);\n    const debouncedTitle = useDebounce(title, 300);\n\n    const handlerInput = (text) => {\n        setText(text);\n    };\n\n    const handlerTitle = (title) => {\n        setTitle(title);\n    };\n\n    useEffect(() => {\n        selectedNote && setText(selectedNote.content);\n        selectedNote && setTitle(selectedNote.title);\n    }, [notes]);\n\n    useEffect(() => {\n\n        if(selectedNote && text !== selectedNote.content) {\n            dispatch({type: types.SET_CONTENT, payload: {id: notes.selectedNote,content: debouncedContent}});\n        }\n    }, [debouncedContent]);\n\n    useEffect(() => {\n        if(selectedNote && title !== selectedNote.title) {\n            dispatch({type: types.SET_TITLE, payload: {id: notes.selectedNote, title: debouncedTitle}});\n        }\n    }, [debouncedTitle]);\n\n\n\n    return (\n        <main className=\"content\">\n            {selectedNote ? <>\n                <input readOnly={selectedNote.blocked} className=\"content__title\" placeholder=\"Enter title of note\" type=\"text\" value={title} onChange={(e) => handlerTitle(e.target.value)}/>\n                <textarea readOnly={selectedNote.blocked} placeholder=\"What's new with you?\" className=\"content__field\" value={text} onChange={(e) => handlerInput(e.target.value)}></textarea>\n                </> : <section className=\"content__info\">Not found note</section>    }\n        </main>\n    );\n}\n\nexport default Content;\n","import React from \"react\";\n\nimport \"./index.scss\";\nimport ListNotes from \"./components/SiteBar\";\nimport Content from \"./components/Content\";\n\nfunction App() {\n\n  return (\n    <div className=\"container\">\n      <ListNotes />\n      <Content />\n    </div>\n  );\n}\n\nexport default App;\n","import {combineReducers} from \"redux\";\n\nconst { notes } = require(\"./notes\");\n\n\n\nexport default combineReducers({\n    notes\n});\n\n","import {createStore} from \"redux\";\nimport rootReducer from \"./reducers\";\nimport storage from 'redux-persist/lib/storage';\nimport {persistReducer, persistStore} from \"redux-persist\";\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n};\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\n\n\nexport default () => {\n    const store = createStore(persistedReducer);\n    const persistor = persistStore(store)\n    return { store, persistor }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n\n\nimport {Provider} from \"react-redux\";\nimport { PersistGate } from 'redux-persist/integration/react'\n\nimport App from './App';\n\nimport generateStore from \"./store\";\n\n\nconst store = generateStore().store;\nconst persistor = generateStore().persistor;\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n          <PersistGate loading={null} persistor={persistor}>\n            <App />\n          </PersistGate>\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}