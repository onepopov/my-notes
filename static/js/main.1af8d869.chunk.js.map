{"version":3,"sources":["store/types/notes.js","store/reducers/notes.js","components/SiteBar/Note/index.js","hooks/useDebounce.js","components/Search/index.js","components/SiteBar/Popup/index.js","components/SiteBar/index.js","components/Content/index.js","App.js","store/reducers/index.js","store/index.js","index.js"],"names":["ADD_NOTE","REMOVE_NOTE","CHANGE_TITLE","SET_CONTENT","SELECT_NOTE","SET_TITLE","initState","notesList","selectedNote","notes","state","type","payload","types","id","uuidv4","date","Date","content","title","slice","filter","item","map","note","Object","assign","Note","selected","contextHandler","dispatch","useDispatch","className","onClick","onContextMenu","e","preventDefault","stopPropagation","useDebounce","value","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","Search","search","query","setQuery","debouncedQuery","placeholder","onChange","target","Popup","addNote","positionContext","openPopup","useSelector","style","SiteBar","searchedNotes","setLists","isOpenPopup","left","top","setPositionContext","openContext","pageX","pageY","x","y","tagName","toLowerCase","indexOf","Content","find","text","setText","setTitle","debouncedContent","debouncedTitle","handlerTitle","handlerInput","App","require","combineReducers","persistConfig","key","storage","persistedReducer","persistReducer","rootReducer","store","createStore","persistor","persistStore","generateStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.1af8d869.chunk.js","sourcesContent":["export default {\n    ADD_NOTE: \"ADD_NOTE\",\n    REMOVE_NOTE: \"REMOVE_NOTE\",\n    CHANGE_TITLE: \"CHANGE_TITLE\",\n    SET_CONTENT: \"SET_CONTENT\",\n    SELECT_NOTE: \"SELECT_NOTE\",\n    SET_TITLE: \"SET_TITLE\"\n}\n","import { v4 as uuidv4 } from \"uuid\";\nimport types from \"../types/notes\";\n\nconst initState = {\n    notesList: [],\n    selectedNote: \"\",\n};\n\nexport function notes(state = initState, {type, payload}) {\n    switch (type) {\n        case types.ADD_NOTE:\n            const id = uuidv4();\n            return {...state, notesList: [...state.notesList, {id, date: new Date(), content: \"\", title: \"Untitled\", selectedNote: id}]};\n        case types.REMOVE_NOTE:\n            return {...state, notesList: state.notesList.slice().filter((item)=> item.id !== payload.id), selectedNote: \"\"};\n        case types.SELECT_NOTE:\n            return {...state, selectedNote: payload.id};\n        case types.SET_TITLE:\n            return {...state, notesList: state.notesList.map((note) => {\n                    if(note.id === payload.id) {\n                        return Object.assign({}, note, {\n                            title: payload.title\n                        });\n                    }\n                    return note;\n                })};\n        case types.SET_CONTENT:\n            return {...state, notesList: state.notesList.map((note) => {\n                    if(note.id === payload.id) {\n                        return Object.assign({}, note, {\n                            content: payload.content\n                        });\n                    }\n                    return note;\n                })};\n        default:\n            return state;\n    }\n}\n","import React, {useState} from \"react\";\nimport \"./styles.scss\";\nimport {useDispatch} from \"react-redux\";\nimport types from \"../../../store/types/notes\";\n\nfunction Note({note, selected,contextHandler}) {\n    const dispatch = useDispatch();\n\n    const selectNote = () => {\n        dispatch({type: types.SELECT_NOTE, payload: {id: note.id}});\n    };\n    const handleContext = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n    };\n\n    return(<li className={selected ? \"note note--selected\": \"note\"} onClick={selectNote} onContextMenu={handleContext}>\n        <span className=\"note__title\">{note.title}</span>{selected && <button className=\"note__actions\" onClick={contextHandler}></button>}\n\n    </li>);\n}\nexport default Note;\n","import React, { useState, useEffect } from 'react';\n\nexport function useDebounce(value, delay) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n\n    useEffect(\n        () => {\n            const handler = setTimeout(() => {\n                setDebouncedValue(value);\n            }, delay);\n            return () => {\n                clearTimeout(handler);\n            };\n        },\n        [value]\n    );\n\n    return debouncedValue;\n}\n","import React, {useEffect, useState} from \"react\";\nimport \"./styles.scss\";\nimport {useDebounce} from \"../../hooks/useDebounce\";\nimport {useDispatch} from \"react-redux\";\n\nfunction Search({search}) {\n    const [query, setQuery] = useState(\"\");\n    const debouncedQuery = useDebounce(query, 300);\n\n    const handleInput = (e) => {\n        setQuery(e.target.value);\n    };\n\n    useEffect(() => {\n            search(debouncedQuery);\n    }, [debouncedQuery]);\n    return(<div className=\"search\">\n        <input className=\"search__input\" placeholder=\"Search everywhere\"  type=\"text\" onChange={handleInput}/>\n    </div>)\n}\n\n\nexport default Search;\n","import React from \"react\";\nimport \"./styles.scss\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport types from \"../../../store/types/notes\";\n\nfunction Popup({addNote, positionContext, selectedNote, openPopup}) {\n    const notes = useSelector(state => state.notes);\n    const dispatch = useDispatch();\n    const deleteNote = () => {\n        dispatch({type: types.REMOVE_NOTE, payload: {id: notes.selectedNote}});\n        openPopup(false);\n    };\n    return(<div className=\"popup\" style={positionContext}>\n        <button onClick={addNote}>New Note</button>\n        {selectedNote && <>\n            <button onClick={deleteNote}>Delete</button>\n            <button>Lock this note</button>\n        </>}\n\n    </div>)\n}\n\n\nexport default Popup;\n","import React, {  useEffect, useState  } from \"react\";\nimport Note from \"./Note\";\nimport \"./styles.scss\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport types from \"../../store/types/notes\";\nimport Search from \"../Search\";\nimport Popup from \"./Popup\";\n\n\nfunction SiteBar() {\n    const notes = useSelector(state => state.notes);\n    const dispatch = useDispatch();\n    const [searchedNotes, setLists] = useState( notes.notesList);\n    const [isOpenPopup, openPopup] = useState(false);\n    const [positionContext, setPositionContext] = useState({left: \"100px\", top: \"100px\"});\n    const addNote = () => {\n        dispatch({type: types.ADD_NOTE});\n        openPopup(false);\n    };\n    const search = (query) => {\n        setLists((state) => notes.notesList.filter((note => note.title.toLowerCase().indexOf(query.toLowerCase()) !== -1)));\n    };\n    const contextHandler = (e) => {\n        e.preventDefault();\n        dispatch({type: types.SELECT_NOTE, payload: {id: \"\"}});\n        openContext(e.pageX, e.pageY);\n    };\n    const openContext = (x,y) => {\n        openPopup(!isOpenPopup);\n        setPositionContext({left: x, top: y});\n    };\n    const handleReset = (e) => {\n        if(e.target.tagName === \"UL\") {\n            dispatch({type: types.SELECT_NOTE, payload: {id: \"\"}});\n            openPopup(false);\n        }\n\n    };\n\n    useEffect(() => {\n        setLists(notes.notesList);\n    }, [notes]);\n\n\n    return(<nav className=\"site-bar\">\n        <ul className=\"site-bar__list\" onContextMenu={contextHandler} onClick={handleReset} >\n            {searchedNotes.map(note => <Note  contextHandler={contextHandler} addNote={addNote}  selected={notes.selectedNote === note.id} note={note} key={note.id}/>)}\n        </ul>\n        {isOpenPopup && <Popup selectedNote={notes.selectedNote} openPopup={openPopup}  positionContext={positionContext} addNote={addNote}/>}\n        <Search search={search}/>\n    </nav>)\n}\n\n\nexport default SiteBar;\n","import React, {useState, useEffect} from \"react\";\nimport {useDebounce} from \"../../hooks/useDebounce\";\n\nimport \"./styles.scss\";\n\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport types from \"../../store/types/notes\";\n\n\n\n\nfunction Content() {\n\n    const notes = useSelector((state) => state.notes);\n    const selectedNote = notes.notesList.find((note) => note.id === notes.selectedNote);\n    const [text, setText] = useState(selectedNote ? selectedNote.content : null);\n    const [title, setTitle] = useState(selectedNote ? selectedNote.title : \"Untitled\");\n    const dispatch = useDispatch();\n    const debouncedContent = useDebounce(text, 300);\n    const debouncedTitle = useDebounce(title, 300);\n\n    const handlerInput = (text) => {\n        setText(text);\n    };\n\n    const handlerTitle = (title) => {\n        setTitle(title);\n    };\n\n    useEffect(() => {\n        selectedNote && setText(selectedNote.content);\n        selectedNote && setTitle(selectedNote.title);\n    }, [notes]);\n\n    useEffect(() => {\n\n        if(selectedNote && text !== selectedNote.content) {\n            dispatch({type: types.SET_CONTENT, payload: {id: notes.selectedNote,content: debouncedContent}});\n        }\n    }, [debouncedContent]);\n\n    useEffect(() => {\n        if(selectedNote && title !== selectedNote.title) {\n            dispatch({type: types.SET_TITLE, payload: {id: notes.selectedNote, title: debouncedTitle}});\n        }\n    }, [debouncedTitle]);\n\n\n\n    return (\n        <main className=\"content\">\n            {selectedNote ? <>\n                <input className=\"content__title\" placeholder=\"Enter title of note\" type=\"text\" value={title} onChange={(e) => handlerTitle(e.target.value)}/>\n                <textarea placeholder=\"What's new with you?\" className=\"content__field\" value={text} onChange={(e) => handlerInput(e.target.value)}></textarea>\n                </> : <section className=\"content__info\">Note not selected</section>    }\n        </main>\n    );\n}\n\nexport default Content;\n","import React from \"react\";\n\nimport \"./index.scss\";\nimport ListNotes from \"./components/SiteBar\";\nimport Content from \"./components/Content\";\n\nfunction App() {\n\n  return (\n    <div className=\"container\">\n      <ListNotes />\n      <Content />\n    </div>\n  );\n}\n\nexport default App;\n","import {combineReducers} from \"redux\";\n\nconst { notes } = require(\"./notes\");\n\n\n\nexport default combineReducers({\n    notes\n});\n\n","import {createStore} from \"redux\";\nimport rootReducer from \"./reducers\";\nimport storage from 'redux-persist/lib/storage';\nimport {persistReducer, persistStore} from \"redux-persist\";\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n};\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\n\n\nexport default () => {\n    const store = createStore(persistedReducer);\n    const persistor = persistStore(store)\n    return { store, persistor }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n\n\nimport {Provider} from \"react-redux\";\nimport { PersistGate } from 'redux-persist/integration/react'\n\nimport App from './App';\n\nimport generateStore from \"./store\";\n\n\nconst store = generateStore().store;\nconst persistor = generateStore().persistor;\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n          <PersistGate loading={null} persistor={persistor}>\n            <App />\n          </PersistGate>\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}